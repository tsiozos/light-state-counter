<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="3{jy(|5}|4HRQ5n6lp([">forever_stop</variable><variable id="2D]c36T6kMG^CUlI{|MG">ll</variable><variable id="FBw:wMF?IH!q%-I)wbT9">total_time</variable><variable id="p34-,oO6PN,FeSvOpeOq">mea</variable><variable id="=R]M@v]B)z,vOMGMBs`@">std</variable><variable id="+md#D)o]5}3i[6%s*W|5">quad</variable><variable id="N!Z%,,nTl.k6BqoeRjNK">forever_stop2</variable><variable id="=tnU:9I|.@w[?Cb?)IE:">i</variable><variable id="6[~C:QbY2Bz^j`g4}KdT">s</variable><variable id="8M?bq@E1g^te1i9|1r-W">forever_stop3</variable><variable id="c!1IQNfthkmNxlw|td4!">time_on</variable><variable id=";p@f3+Bz*L=G]V}j;T.R">ll2</variable><variable id="_?Q;rc5.9tmZ9_;=2CT`">n</variable><variable id=";3G97gg*T?lF]:w,agza">t</variable><variable id="^w{A~GqL+G.ZI-ne*jyQ">k</variable><variable id="i*,itHCerB3nyQJJKR1v">Aprev</variable><variable id="%BPaD2L#z*=B0sG2WqVL">A</variable><variable id="Z%vEHpJ=,S^1Qyk/u%vc">thedata</variable><variable id="gqgJ?I2R?hb(YlF97En%">Q</variable><variable id="b{ag@br6300i{(S:(_,r">mean</variable><variable id="X(^7oGVKKR2Nf}C-d/;=">stdev</variable><variable id="W_D,(_i.L=g3DlslPe:9">ll3</variable></variables><comment id="ye5fcYrqEemC;Fx#4G3~" data="0" x="422" y="0" h="120" w="190">total time counting</comment><block type="pxt-on-start" id="Tbu5A.uAtB~43K)|nB8D" x="0" y="0"><statement name="HANDLER"><block type="typescript_statement" id="i{Ks;]mI0n0,-M|(jqQe" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let total_time = 0" numlines="1" declaredvars="total_time"></mutation><next><block type="typescript_statement" id="yPtC,y;)V+h`Mheerjhi" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let mean = 0" numlines="1" declaredvars="mean"></mutation><next><block type="radio_set_group" id="J6R/m@:)f3OOw1M%#|@E"><comment pinned="false" h="80" w="160">Light state counter v1.00&#10;We measure the time in seconds a light source is emitting light.&#10;Learn (LS should be on):&#10;User presses A and program calculates mean and standard deviation of the brightness emitted by the LS.</comment><value name="ID"><shadow type="math_number_minmax" id="A/=~U-BpJE_2g;/mds:P"><mutation min="0" max="255" label="Number" precision="0"/><field name="SLIDER">77</field></shadow></value><next><block type="radio_set_transmit_power" id="kSC0Mk=F:~;HR968VNJy"><value name="power"><shadow type="math_number_minmax" id="umXe6huF)Hy^=QN*OyaJ"><mutation min="0" max="7" label="Number" precision="0"/><field name="SLIDER">7</field></shadow></value><next><block type="typescript_statement" id="A,)!N$aC)JgrCcx-pv.4" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let quad = control.createBuffer(3000)" numlines="1" declaredvars="quad"></mutation><next><block type="function_call" id="4p5lUR!D{t%CYrs(EE%h"><mutation name="setup" functionid="MVqU%)urzZkR*(FmNmj="/><comment pinned="false" h="80" w="160">every quad represents 240 seconds.</comment></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="device_button_event" id="[wAw54jK~DX3LfdpJq_X" x="657" y="0"><field name="NAME">Button.A</field><statement name="HANDLER"><block type="serial_writestring" id="yR(Gr=,PcITqDcRJa3Wz"><value name="text"><block type="text_join" id="g(1J!Kth{0ngp8OrRfOT" inline="false"><mutation items="5"/><value name="ADD0"><shadow type="text" id="^WW*xngChr5h_eH+kr^I"><field name="TEXT">mean light level=</field></shadow></value><value name="ADD1"><shadow type="text"><field name="TEXT"/></shadow><block type="text_join" id="Ys5wdk!WA,zDAP5`wsVo"><mutation items="1"/><value name="ADD0"><shadow type="text"><field name="TEXT"/></shadow><block type="variables_get" id=".9kBz.5[57g,RCH5#4UA"><field name="VAR" id="p34-,oO6PN,FeSvOpeOq">mea</field></block></value></block></value><value name="ADD2"><shadow type="text" id="5%)]lC~hf~@fnAUJi/F!"><field name="TEXT">  stdev=</field></shadow></value><value name="ADD3"><shadow type="text"><field name="TEXT"/></shadow><block type="text_join" id="v7~^PJuhS,)jjZ9av:sd"><mutation items="1"/><value name="ADD0"><shadow type="text"><field name="TEXT"/></shadow><block type="variables_get" id="5jDkirQNQD:`GOS%y/q4"><field name="VAR" id="=R]M@v]B)z,vOMGMBs`@">std</field></block></value></block></value><value name="ADD4"><shadow type="text"><field name="TEXT"/></shadow><block type="typescript_expression" id="fZ.3RY8(Dq{d2m?FbvzV" editable="false"><field name="EXPRESSION">serial.NEW_LINE</field></block></value></block></value><next><block type="serial_writestring" id="SzPfk2ypDqOn%b1~SVn5"><value name="text"><block type="text_join" id="C##LSyySzgQhI_cMb7wy" inline="false"><mutation items="5"/><value name="ADD0"><shadow type="text" id="h,$GHSF7C6c`a0]vF]ID"><field name="TEXT">total time=</field></shadow></value><value name="ADD1"><shadow type="text"><field name="TEXT"/></shadow><block type="text_join" id="(Z/#Hpz=ZSnqa|v!AeR!"><mutation items="1"/><value name="ADD0"><shadow type="text"><field name="TEXT"/></shadow><block type="variables_get" id="reYH:+iGPWtlGO19@-!Z"><field name="VAR" id="FBw:wMF?IH!q%-I)wbT9">total_time</field></block></value></block></value><value name="ADD2"><shadow type="text" id="|jd,XRclz$a2sP)z[wbw"><field name="TEXT"> sec   time on=</field></shadow></value><value name="ADD3"><shadow type="text"><field name="TEXT"/></shadow><block type="lists_index_get" id="Mi|t:aZQ}r7Yp}_]UiS^"><value name="LIST"><block type="variables_get" id="e-Ti!hJ?NAF7eZ@qy%Q|"><field name="VAR" id="+md#D)o]5}3i[6%s*W|5">quad</field></block></value><value name="INDEX"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_js_op" id="fowTvQLm7DcoZ7Y-?p_{"><mutation xmlns="http://www.w3.org/1999/xhtml" op-type="infix"></mutation><field name="OP">idiv</field><value name="ARG0"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="28QUn]_:Ue/e^OWS7CW)"><field name="VAR" id="FBw:wMF?IH!q%-I)wbT9">total_time</field></block></value><value name="ARG1"><shadow type="math_number" id="RFdFT|DAR5GUqors-wkH"><field name="NUM">240</field></shadow></value></block></value></block></value><value name="ADD4"><shadow type="text"><field name="TEXT"/></shadow><block type="typescript_expression" id="*kUY8y#?7GOd}p#MMyK4" editable="false"><field name="EXPRESSION">serial.NEW_LINE</field></block></value></block></value></block></next></block></statement></block><block type="device_button_event" id="ad!~9u`[.Y_9s{mLk#ot" x="1497" y="0"><field name="NAME">Button.AB</field><statement name="HANDLER"><block type="function_call" id="7VR]C,9v;y*_1Z9aosW("><mutation name="setup" functionid="MVqU%)urzZkR*(FmNmj="/></block></statement></block><block type="device_button_event" id="A27*vIXg3R:M[_wmffUN" x="1777" y="0"><field name="NAME">Button.B</field><statement name="HANDLER"><block type="typescript_statement" id="E@?AbpjaFw[%wBj?j+)?" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let s: string;" numlines="1" declaredvars="s"></mutation><next><block type="variables_set" id="/*5gbj+cp=Ya4Q#71#!*"><field name="VAR" id="N!Z%,,nTl.k6BqoeRjNK">forever_stop2</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="logic_boolean" id="_=X6gbT-Z45Us*.q|X,@"><field name="BOOL">TRUE</field></block></value><next><block type="serial_writestring" id="_KqHR.PNWLF`U(aaR*t,"><value name="text"><block type="text_join" id="lBdq60[H:|3c(-cvHD1N"><mutation items="4"/><value name="ADD0"><shadow type="text"><field name="TEXT"/></shadow><block type="typescript_expression" id="Y6K_$$5x:r%f)~v5Qty#" editable="false"><field name="EXPRESSION">serial.NEW_LINE</field></block></value><value name="ADD1"><shadow type="text"><field name="TEXT"/></shadow><block type="typescript_expression" id="3JHZSNFA/%A_({10`O`Z" editable="false"><field name="EXPRESSION">serial.NEW_LINE</field></block></value><value name="ADD2"><shadow type="text" id="iVOj*CA_)6)x:4(~,]{e"><field name="TEXT">hourID, minsOn</field></shadow></value><value name="ADD3"><shadow type="text"><field name="TEXT"/></shadow><block type="typescript_expression" id="dz/0I%7*ztQrv{BTJaJk" editable="false"><field name="EXPRESSION">serial.NEW_LINE</field></block></value></block></value><next><block type="radio_datagram_send_string" id="4@Ds[)lqezzI[2E{3Q=,"><value name="msg"><shadow type="text" id="0f_VD?oLD$sM#tE#X]{o"><field name="TEXT">hourID, minsOn</field></shadow></value><next><block type="pxt_controls_for" id="(RyfX(y_#Mo$VSUr0^i%"><value name="VAR"><shadow type="variables_get_reporter" id="$JeB6VSD4)TUool*?:jC"><field name="VAR" id="=tnU:9I|.@w[?Cb?)IE:">i</field></shadow></value><value name="TO"><shadow type="math_whole_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="$c+C%+~cYs[X1/lN:j0f"><field name="OP">MINUS</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="sj1)|SOs]vIAKrJXJuk^"><field name="OP">ADD</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_js_op" id="kF[8RC.o_`?/Os{QB.T3"><mutation xmlns="http://www.w3.org/1999/xhtml" op-type="infix"></mutation><field name="OP">idiv</field><value name="ARG0"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="SCic#*if|D#.R5j/fK5+"><field name="VAR" id="FBw:wMF?IH!q%-I)wbT9">total_time</field></block></value><value name="ARG1"><shadow type="math_number" id="*^v#4~DbWh~CXMtk7#?("><field name="NUM">240</field></shadow></value></block></value><value name="B"><shadow type="math_number" id="e~wWjRiA96F[kqJ6ku9M"><field name="NUM">1</field></shadow></value></block></value><value name="B"><shadow type="math_number" id="G71Z0a=$xof{,*]LKs~!"><field name="NUM">1</field></shadow></value></block></value><statement name="DO"><block type="variables_set" id="MSJdU6Z6ua%%v@D^Q]e3"><field name="VAR" id="6[~C:QbY2Bz^j`g4}KdT">s</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="text_join" id="oo%[V#)iHh189oa@l!]q"><mutation items="4"/><value name="ADD0"><shadow type="text"><field name="TEXT"/></shadow><block type="variables_get" id="[_I_9{B8d0|o]yKghGwj"><field name="VAR" id="=tnU:9I|.@w[?Cb?)IE:">i</field></block></value><value name="ADD1"><shadow type="text" id="^E}}UCoZzKZ-upogF:R,"><field name="TEXT">, </field></shadow></value><value name="ADD2"><shadow type="text"><field name="TEXT"/></shadow><block type="text_join" id="EXOgI3P!k$0[x}wlt?9u"><mutation items="1"/><value name="ADD0"><shadow type="text"><field name="TEXT"/></shadow><block type="lists_index_get" id="F}^E#`kQ=fLrlU1|$etK"><value name="LIST"><block type="variables_get" id="%kYb|Js(v4RL{6Pw1]l:"><field name="VAR" id="+md#D)o]5}3i[6%s*W|5">quad</field></block></value><value name="INDEX"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="._{*YKs^fPPX{tAIW(W-"><field name="VAR" id="=tnU:9I|.@w[?Cb?)IE:">i</field></block></value></block></value></block></value><value name="ADD3"><shadow type="text"><field name="TEXT"/></shadow><block type="typescript_expression" id="x{%cL^PPl=?Slf/xdIyJ" editable="false"><field name="EXPRESSION">serial.NEW_LINE</field></block></value></block></value><next><block type="serial_writestring" id="Ku1:Pz|}?`Ds}@Tn_Lh^"><value name="text"><block type="variables_get" id="6(RBbxOi~sS.s-Oy}F62"><field name="VAR" id="6[~C:QbY2Bz^j`g4}KdT">s</field></block></value><next><block type="radio_datagram_send_string" id="1Tj!=a[WIZLPT*8RSX%R"><value name="msg"><block type="variables_get" id="od7NmaW7nX5pD;k@*cGO"><field name="VAR" id="6[~C:QbY2Bz^j`g4}KdT">s</field></block></value><next><block type="device_pause" id="9,u`zER!1W)/,$khuPI?"><value name="pause"><shadow type="timePicker" id="~c94_CvYyNoI{PvGB;Bx"><field name="ms">100</field></shadow></value></block></next></block></next></block></next></block></statement><next><block type="serial_writestring" id="_jsZ/CUPix!JDMrcl;9B"><value name="text"><block type="typescript_expression" id="Tq.?P=JAo7U#)88ht6a+" editable="false"><field name="EXPRESSION">serial.NEW_LINE</field></block></value><next><block type="serial_writevalue" id="m%D/zq_[CQ+??ZB-=fKa"><value name="name"><shadow type="text" id="+?t!0m*3i*SC1A|YRdKk"><field name="TEXT">total_time</field></shadow></value><value name="value"><block type="variables_get" id="n_SDm_v{~Mkx*1@0svx6"><field name="VAR" id="FBw:wMF?IH!q%-I)wbT9">total_time</field></block></value><next><block type="variables_set" id="8d`R;H4GlF~`DII}xoj`"><field name="VAR" id="N!Z%,,nTl.k6BqoeRjNK">forever_stop2</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="logic_boolean" id="oOabfqtpZlTQhDAU[gY*"><field name="BOOL">FALSE</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="function_definition" id="aSAL~t^g:6121)%@~:/%" x="2889" y="0"><mutation name="setup" functionid="MVqU%)urzZkR*(FmNmj="/><field name="function_name">setup</field><statement name="STACK"><block type="typescript_statement" id="F(o:.qA`Kj|hb/fM3B1:" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let j: number;" numlines="1" declaredvars="j"></mutation><next><block type="variables_set" id="5[@@j^Rx%nane`1xk7%)"><field name="VAR" id="8M?bq@E1g^te1i9|1r-W">forever_stop3</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="logic_boolean" id="PbNUI$`*W{)=ABnxnZbv"><field name="BOOL">TRUE</field></block></value><next><block type="variables_set" id="RoJ6VcxIo55*}nyntpMl"><field name="VAR" id="p34-,oO6PN,FeSvOpeOq">mea</field><value name="VALUE"><shadow type="math_number" id="kcjcT~=iL-RnjL;fKwhG"><field name="NUM">0</field></shadow></value><next><block type="variables_set" id="tlxDx6kWjP@37cm]c3_Y"><field name="VAR" id="=R]M@v]B)z,vOMGMBs`@">std</field><value name="VALUE"><shadow type="math_number" id="gaM#maC6E0g}~W~w-QBW"><field name="NUM">0</field></shadow></value><next><block type="variables_set" id="%!TDq1aqXDQf@lKK}Mtj"><field name="VAR" id="FBw:wMF?IH!q%-I)wbT9">total_time</field><value name="VALUE"><shadow type="math_number" id="_!+(TN=fwYqsKxG7G^G?"><field name="NUM">0</field></shadow></value><next><block type="variables_set" id="WOuk17SCC|,tNet2k@9$"><field name="VAR" id="c!1IQNfthkmNxlw|td4!">time_on</field><comment pinned="false" h="80" w="160">total time counting</comment><value name="VALUE"><shadow type="math_number" id="##juRI9o;Z*?W%fU0k%]"><field name="NUM">0</field></shadow></value><next><block type="typescript_statement" id="15}%@usaiwSqG,_`SFbA" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="for (j = 0; j &lt; 3000; j++) {" line1="        quad[j] = 0" line2="    }" numlines="3"></mutation><next><block type="variables_set" id="gJaakk6`V]{wM/[kGm2q"><field name="VAR" id=";p@f3+Bz*L=G]V}j;T.R">ll2</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="function_call_output" id="?Dy52H/]?4rPQ:Dh[SG~"><mutation name="get_data_point" functionid="[-tdGrkijR(]yoqGw7L("/></block></value><next><block type="typescript_statement" id="xpI7ih5/T.cdu]@^cg`O" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="for (j = 0; j &lt; 6; j++) {" line1="        basic.showNumber(5 - j)" line2="    }" numlines="3"></mutation><next><block type="device_clear_display" id="4|@-/muYYjRp1MFJ2uut"><next><block type="function_call" id="T|BD!uV**j-CRdItcE`I"><mutation name="calc_stats" functionid="@;#E;?OSP}VPCMes81tn"><arg name="cnt" id="ro8nkembye8oofnccaxju" type="number"/><arg name="dly" id="a3i54f7xqsorz0zw7zxdo" type="number"/></mutation><comment pinned="false" h="80" w="160">input.light_level()</comment><value name="ro8nkembye8oofnccaxju"><shadow type="math_number" id="xA@tDvJ3f*rAI;p3)Ixl"><field name="NUM">40</field></shadow></value><value name="a3i54f7xqsorz0zw7zxdo"><shadow type="math_number" id="oN_1g]UG6BA_NUi4NG,="><field name="NUM">200</field></shadow></value><next><block type="controls_if" id="Hcdbuwz@GzZQPDx~4/}("><comment pinned="false" h="80" w="160">calculate the statistics for light on. 8 seconds</comment><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="Zzoj:euzSW]Fye_52X$m"><field name="OP">LT</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="ELBOQ0T`9Cm9s#XJvI?9"><field name="VAR" id="=R]M@v]B)z,vOMGMBs`@">std</field></block></value><value name="B"><shadow type="math_number" id="JZ!Dyuwc(.LHLG^q0P=t"><field name="NUM">1</field></shadow></value></block></value><statement name="DO0"><block type="variables_set" id="H9VJ@7UC0*;FACM2htF!"><field name="VAR" id="=R]M@v]B)z,vOMGMBs`@">std</field><value name="VALUE"><shadow type="math_number" id="LheU5n1tQR`l3iZd|qP_"><field name="NUM">1</field></shadow></value></block></statement><next><block type="serial_writestring" id=":k?Qxmm5]Urel?kHMC7:"><value name="text"><block type="text_join" id="a;h|+20nbsjhv6D(PF4N" inline="false"><mutation items="5"/><value name="ADD0"><shadow type="text" id="X_i[*--Vrk+))snC+t!+"><field name="TEXT">mean=</field></shadow></value><value name="ADD1"><shadow type="text"><field name="TEXT"/></shadow><block type="text_join" id="v8OSCP85r5W4ui|?(+Pe"><mutation items="1"/><value name="ADD0"><shadow type="text"><field name="TEXT"/></shadow><block type="variables_get" id=")@F%5^?#1/f!blsf63:s"><field name="VAR" id="p34-,oO6PN,FeSvOpeOq">mea</field></block></value></block></value><value name="ADD2"><shadow type="text" id="C%--;/XD#cC+=G6.)}N4"><field name="TEXT">  stdev=</field></shadow></value><value name="ADD3"><shadow type="text"><field name="TEXT"/></shadow><block type="text_join" id="7(J@@(vY4VmLbASGxoCv"><mutation items="1"/><value name="ADD0"><shadow type="text"><field name="TEXT"/></shadow><block type="variables_get" id="kiA;hN.}1fb2Y6IQfDq$"><field name="VAR" id="=R]M@v]B)z,vOMGMBs`@">std</field></block></value></block></value><value name="ADD4"><shadow type="text"><field name="TEXT"/></shadow><block type="typescript_expression" id=":;C:!C~t-uBeJ}de]S}2" editable="false"><field name="EXPRESSION">"\n"</field></block></value></block></value><next><block type="basic_show_icon" id="oVK0SRWIG7)G679}jfy?"><field name="i">IconNames.Yes</field><next><block type="device_pause" id="EOiTR_cF(O{AM|lho]w*"><value name="pause"><shadow type="timePicker" id="%A(0wh8=CLwjtBt+.9(?"><field name="ms">2000</field></shadow></value><next><block type="device_clear_display" id="K65K5IOdu-89fTgCUZ6%"><next><block type="variables_set" id="g[1-:,!3y_olT^Hsf{L]"><field name="VAR" id="8M?bq@E1g^te1i9|1r-W">forever_stop3</field><comment pinned="false" h="80" w="160">input.light_level()</comment><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="logic_boolean" id="i?4nxc$woROz[0]rrB+B"><field name="BOOL">FALSE</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="function_definition" id="X0xvnZ|HV|6D*E,t];uC" x="0" y="1505"><mutation name="calc_stats" functionid="@;#E;?OSP}VPCMes81tn"><arg name="cnt" id="ro8nkembye8oofnccaxju" type="number"/><arg name="dly" id="a3i54f7xqsorz0zw7zxdo" type="number"/></mutation><field name="function_name">calc_stats</field><comment pinned="false" h="80" w="160">calculate statistics for a number of readings&#10;returns mean, stdev - no long term storage needed&#10;param: cnt - how many measurements to calculate&#10;param: dly - milliseconds btw measurements&#10;for the algo see https://en.wikipedia.org/wiki/Standard_deviation#Rapid_calculation_methods&#10;number of items</comment><value name="ro8nkembye8oofnccaxju"><shadow type="argument_reporter_number" id="lWV}p*;XaaYUwAF[UOAI"><field name="VALUE">cnt</field></shadow></value><value name="a3i54f7xqsorz0zw7zxdo"><shadow type="argument_reporter_number" id="nJ95s?3!q~;*?G8{DPv#"><field name="VALUE">dly</field></shadow></value><statement name="STACK"><block type="typescript_statement" id="Y]^=%PD/Qb;($0O8#$rP" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let Aprev: number;" numlines="1" declaredvars="Aprev"></mutation><next><block type="typescript_statement" id="k^%,dvvSiUJmB.?GV{?#" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let thedata: number;" numlines="1" declaredvars="thedata"></mutation><next><block type="variables_set" id="+h?NGia8YY8PnJ^Dy_f#"><field name="VAR" id="_?Q;rc5.9tmZ9_;=2CT`">n</field><comment pinned="false" h="80" w="160">running k value. It's k=t+1 since k starts from 0.</comment><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="argument_reporter_number" id="t#iWYA}:oex=Q9lryozY"><field name="VALUE">cnt</field></block></value><next><block type="pxt_controls_for" id="_DW7R:BDyR:(4T$|kaUv"><value name="VAR"><shadow type="variables_get_reporter" id="OIDo.ybQUmcy!R-J$ygD"><field name="VAR" id=";3G97gg*T?lF]:w,agza">t</field></shadow></value><value name="TO"><shadow type="math_whole_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="EohNaZBP5Hc3.=;9/,0t"><field name="OP">MINUS</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="O5cRDzc)*iQ.Wd-AyR0t"><field name="VAR" id="_?Q;rc5.9tmZ9_;=2CT`">n</field></block></value><value name="B"><shadow type="math_number" id=",WITPH_G@[3L@0RV}^?Y"><field name="NUM">1</field></shadow></value></block></value><statement name="DO"><block type="variables_set" id="657*:l]8.LYA5x_Lp}x_"><field name="VAR" id="^w{A~GqL+G.ZI-ne*jyQ">k</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="|=[1)FNG,t8i|Zx9ZBbf"><field name="OP">ADD</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id=")tyyGy@fexTu`8Uro%p|"><field name="VAR" id=";3G97gg*T?lF]:w,agza">t</field></block></value><value name="B"><shadow type="math_number" id="wB8Zg1jCf7Wu@0JxK[OT"><field name="NUM">1</field></shadow></value></block></value><next><block type="variables_set" id="kb~8dF$N_4n@%Ms+(Zv{"><field name="VAR" id="i*,itHCerB3nyQJJKR1v">Aprev</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="cfG%zqolAO;xLI*/g,Q."><field name="VAR" id="%BPaD2L#z*=B0sG2WqVL">A</field></block></value><next><block type="variables_set" id="[ZIfZ*_lC:]8#grtAp}["><field name="VAR" id="Z%vEHpJ=,S^1Qyk/u%vc">thedata</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="function_call_output" id="ws!tCp/-i0.|t[u,@0nv"><mutation name="get_data_point" functionid="[-tdGrkijR(]yoqGw7L("/></block></value><next><block type="variables_set" id="XU3-hFE@X+P,`9AW|`1W"><field name="VAR" id="%BPaD2L#z*=B0sG2WqVL">A</field><comment pinned="false" h="80" w="160">get next data point</comment><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="oy8I/`Pb%`*h(dgfaUyC"><field name="OP">ADD</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="b/#r.60{?=NJH$L4~b{r"><field name="VAR" id="%BPaD2L#z*=B0sG2WqVL">A</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="]e,on[umeY7|~k:e._bg"><field name="OP">DIVIDE</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="I]$_T}e)xd::jFtKrA8)"><field name="OP">MINUS</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="@N/Ave~Xe~Gg,l~6ELF6"><field name="VAR" id="Z%vEHpJ=,S^1Qyk/u%vc">thedata</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="KD/GT~-gR]tKp)I`yh_D"><field name="VAR" id="%BPaD2L#z*=B0sG2WqVL">A</field></block></value></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="M@HYk-P7N{-QUEh376.Q"><field name="VAR" id="^w{A~GqL+G.ZI-ne*jyQ">k</field></block></value></block></value></block></value><next><block type="variables_set" id="93R(L{rw!S{?yR*w5o2}"><field name="VAR" id="gqgJ?I2R?hb(YlF97En%">Q</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="MvNDkD8x[8SkBBU~^dy`"><field name="OP">ADD</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="B5)V[K(zzeJIggd|k=D-"><field name="VAR" id="gqgJ?I2R?hb(YlF97En%">Q</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="AYO^4A$Tw({+3d3x#l=W"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="-b@:ptP_-ey]/F4=c@qJ"><field name="OP">MINUS</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="A^G_777r0EGLDf:.uIaM"><field name="VAR" id="Z%vEHpJ=,S^1Qyk/u%vc">thedata</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="ocM.:.+xB_n~a4j)(o-{"><field name="VAR" id="i*,itHCerB3nyQJJKR1v">Aprev</field></block></value></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="I:!}+SJ^%(3qUeJH!jh7"><field name="OP">MINUS</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="U4K3;*KgTmUwyNgn#:{P"><field name="VAR" id="Z%vEHpJ=,S^1Qyk/u%vc">thedata</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="9R{X[vec5bm03Js}ggtZ"><field name="VAR" id="%BPaD2L#z*=B0sG2WqVL">A</field></block></value></block></value></block></value></block></value><next><block type="variables_change" id="lAhS8iIo54uq_43nSNt@"><field name="VAR" id="b{ag@br6300i{(S:(_,r">mean</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="-WGl^cG%c.btMDj;Cn-d"><field name="VAR" id="Z%vEHpJ=,S^1Qyk/u%vc">thedata</field></block></value><next><block type="device_pause" id="j=,PMlf.;Q-)JNNlW_Q7"><value name="pause"><shadow type="timePicker"/><block type="argument_reporter_number" id="bFYI1pjE_o#5;umsf1?^"><field name="VALUE">dly</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></statement><next><block type="variables_set" id="R|FMKe;JAaz[kgWWq4Hs"><field name="VAR" id="X(^7oGVKKR2Nf}C-d/;=">stdev</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_js_op" id="Lm[oKlc+DE1~/6_isd0)"><mutation xmlns="http://www.w3.org/1999/xhtml" op-type="unary"></mutation><field name="OP">sqrt</field><value name="ARG0"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="@fG|7$B[SZV(-u3qe.PT"><field name="OP">DIVIDE</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="|E;.4!v].T!}@|xRG~.C"><field name="VAR" id="gqgJ?I2R?hb(YlF97En%">Q</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="GZGV{yv8`6Ro+lL_tQEy"><field name="OP">MINUS</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="aDxK$g]3B(1[IzxooFhP"><field name="VAR" id="_?Q;rc5.9tmZ9_;=2CT`">n</field></block></value><value name="B"><shadow type="math_number" id="0M!7kgot;tSO+hM7=+q5"><field name="NUM">1</field></shadow></value></block></value></block></value></block></value><next><block type="typescript_statement" id="$b3i5I0!G%.I6A3niPT`" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="mean /= n" numlines="1"></mutation><next><block type="variables_set" id="Ssj8CF({^9AHimC9FgIe"><field name="VAR" id="p34-,oO6PN,FeSvOpeOq">mea</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="jYY}E%4392Gjk0G-SqTM"><field name="VAR" id="b{ag@br6300i{(S:(_,r">mean</field></block></value><next><block type="variables_set" id="OYo~jhLaKf*U5MM[:7!N"><field name="VAR" id="=R]M@v]B)z,vOMGMBs`@">std</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_js_round" id="]FIn;zai4X+SJ5ciUt]w"><field name="OP">ceil</field><value name="ARG0"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="#YyTe(p(!_i[q4+4~!Ba"><field name="VAR" id="X(^7oGVKKR2Nf}C-d/;=">stdev</field></block></value></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="function_definition" id="/p#bA}S_=2m#JpKG:?Cm" x="1013" y="1505"><mutation name="get_data_point" functionid="[-tdGrkijR(]yoqGw7L("/><field name="function_name">get_data_point</field><comment pinned="false" h="80" w="160">to apply to a different sensor just change the input</comment><statement name="STACK"><block type="variables_set" id="S1PbSsd-8P]@/T6cfxNb"><field name="VAR" id="W_D,(_i.L=g3DlslPe:9">ll3</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="device_get_light_level" id="d+9skZzE,_rND%kK[k/W"/></value><next><block type="function_return" id="PYj~@,)i_zhjj#@B%)=k"><mutation xmlns="http://www.w3.org/1999/xhtml" no_return_value="false"></mutation><comment pinned="false" h="80" w="160">print(str(ll))</comment><value name="RETURN_VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="ju!VQlBeU+^XeORdu5Vp"><field name="VAR" id="W_D,(_i.L=g3DlslPe:9">ll3</field></block></value></block></next></block></statement></block><block type="device_forever" id="esr,pn9heupt.ifK[p-$" x="1399" y="1505"><statement name="HANDLER"><block type="typescript_statement" id="J@*0jJNIHterUi2qahIy" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let ll: number;" numlines="1" declaredvars="ll"></mutation><next><block type="controls_if" id="khZI|g9[~t38)K/txM/6"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_negate" id="OiQ)@!D}!`15g7%C[BDe"><value name="BOOL"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="yr.jL[k0xq5Op.eL?Mk{"><field name="VAR" id="3{jy(|5}|4HRQ5n6lp([">forever_stop</field></block></value></block></value><statement name="DO0"><block type="device_pause" id="3WfH^QM=M6F$v~V[ifTE"><value name="pause"><shadow type="timePicker" id="M0c/Yn/;PyU@RA3?sV^V"><field name="ms">100</field></shadow></value><next><block type="device_unplot" id="E}z8B`vMCxc?^)sySSh@"><value name="x"><shadow type="math_number_minmax" id="_$`80n{d4_$%Nkyq/E-m"><mutation min="0" max="4" label="Number" precision="0"/><field name="SLIDER">1</field></shadow></value><value name="y"><shadow type="math_number_minmax" id="T6G|P4K,}gaTnOI%`hjM"><mutation min="0" max="4" label="Number" precision="0"/><field name="SLIDER">1</field></shadow></value><next><block type="device_pause" id="%r4W./Ow{/xKw{SxZS-e"><value name="pause"><shadow type="timePicker" id="2d06Q9KGjml%k5lM8WGJ"><field name="ms">900</field></shadow></value><next><block type="variables_set" id="U-)bi.BJ:5PG03!~+pa/"><field name="VAR" id="2D]c36T6kMG^CUlI{|MG">ll</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="function_call_output" id="6,#ZQ+)@/6/UB7|NzFOY"><mutation name="get_data_point" functionid="[-tdGrkijR(]yoqGw7L("/></block></value><next><block type="variables_set" id="P0e75O9J=Qi46+irJYbg"><field name="VAR" id="FBw:wMF?IH!q%-I)wbT9">total_time</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="R:XO*n5Cg@ROm]HD:Ohn"><field name="OP">ADD</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="V,Jk.=ynN^pkxvfkT5uF"><field name="VAR" id="FBw:wMF?IH!q%-I)wbT9">total_time</field></block></value><value name="B"><shadow type="math_number" id="CR++MMwHtfFhI]3Y`OJQ"><field name="NUM">1</field></shadow></value></block></value><next><block type="controls_if" id="H2o^13+h]+x[;7)]Sl.6"><comment pinned="false" h="80" w="160">increase seconds&#10;if ll &gt;= mea-3*std:      # If light level is above the mean - 3 stdev then consider it on&#10;time_on = time_on + 1</comment><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="aIiZBWHYibaBHaNaNR,^"><field name="OP">GTE</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="(C-?DGYLPVRDpHUkbELL"><field name="VAR" id="2D]c36T6kMG^CUlI{|MG">ll</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id=".6y{R@9WuZ#0?E}n9/m2"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number" id="j$6W(d}l*O5{9*cH,D|v"><field name="NUM">0.7</field></shadow></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="DD1m7NP`g~h,!brF@x9D"><field name="VAR" id="p34-,oO6PN,FeSvOpeOq">mea</field></block></value></block></value></block></value><statement name="DO0"><block type="typescript_statement" id="En}O8)/9`zpNX({OG`nr" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="quad[Math.idiv(total_time, 240)] += 1" numlines="1"></mutation><next><block type="device_plot" id="Qs=~+i4)/Ewv#=.MHh+J"><comment pinned="false" h="80" w="160">increase the appropriate bin by 1 sec max secs per cell is 240=4min</comment><value name="x"><shadow type="math_number_minmax" id="ekjydP_sTqX5n2gBwB~]"><mutation min="0" max="4" label="Number" precision="0"/><field name="SLIDER">1</field></shadow></value><value name="y"><shadow type="math_number_minmax" id="}za_8XUMQjL4Pt@2^G/P"><mutation min="0" max="4" label="Number" precision="0"/><field name="SLIDER">1</field></shadow></value></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></statement></block></xml>